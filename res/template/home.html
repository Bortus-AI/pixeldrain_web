{{define "home"}}
<!DOCTYPE html>
<html>
	<head>
		{{template "meta_tags" "Free file sharing service"}}
		<script src="/res/script/jquery-2.1.4.min.js"></script>
		<script type="text/javascript">var apiEndpoint = '{{.APIEndpoint}}';</script>
	</head>

	<body>
		<img id="header_image" src="/res/img/header_neuropol.png" alt="Header image"/>
		<br/>
		<div id="body" class="body">
			{{template "menu" .}}
			<div class="highlight_middle border_bottom">
				<input id="file_input_field" type="file" name="file" multiple="multiple"/>
				<button id="select_file_button" class="big_button button_highlight">Upload Files</button>
				<button id="text_button" class="big_button button_highlight" onClick="window.location.href = '/t/'">Upload Text</button><br/>

				<div id="uploads_queue" class="uploads_queue"></div>
			</div>
			<div class="highlight_dark border_bottom">
				<button id="btn_create_list">Create list with uploaded files</button>
			</div>

			<h1>Pixeldrain Public Beta</h1>
			<p>
				Note that this is an experimental version of Pixeldrain server,
				the Pixeldrain backend has been completely redesigned from the
				ground up to be more extensible, efficient and scalable. The
				server this web application runs on is considered a testing
				environment. Database resets can happen when architectural
				changes need to be applied.
			</p>
			<p>
				The Sia integration is still very experimental and could
				fail, resulting in data loss. Do not upload files to this server
				that you cannot afford to lose. Use the stable main server instead:
				<a href="https://pixeldrain.com">https://pixeldrain.com</a>.
			</p>
			<p>
				But don't let all that stop you from trying the new Pixeldrain!
				The upload restrictions that the main site has haven't been
				implemented in this version yet, so you can upload as much as
				you want. The server only has 256 GiB of space available, if it
				starts running out of space files will be purged from the local
				filesystem and served from Sia on the next request.
			</p>

			<h2>News</h2>
			<h3>Data loss has occurred</h3>
			<p>
				As noted at the start of this page, the integration with Sia
				cloud storage is highly experimental, everyone who uses this
				service should be aware of that fact.
			</p>
			<p>
				I recently discovered that the Sia node that is storing the
				files for this website had crashed because of a memory leak. The
				Sia team is currently trying to figure out how this memory leak
				occurred. It's likely the contract renewal went wrong which
				caused the Sia node to become unstable. Now when I start the Sia
				daemon it eats up about 1 GB of RAM per minute, so I've turned
				it off for the time being.
			</p>
			<p>
				In the short period that the Sia daemon keeps running I managed
				to request a file listing. It seems that because of the failed
				contracts about 80% of the stored files have dropped far below
				1x redundancy, meaning that they are lost. The upside of all
				this is that the bug has been discovered before version 1.3.3
				has come out so it might be fixed in the next release, bringing
				the Sia platform as a whole another step closer to being a
				reliable data storage solution.
			</p>
			<p>
				Anyway, don't be surprised if your previously uploaded files are
				gone now. I will soon start purging all unrecoverable files from
				the database so we can start over with a clean slate.
			</p>

			<h2>Legality</h2>
			<p>
				I cannot be held liable for any illegal and / or copyrighted
				material that's uploaded by the users of this application.
				Files uploaded to this website are subjected to local laws. If
				laws are being broken, and I've been notified of the fact I'll
				have to delete the offending content (as the server does not
				support geo filtering yet). If you find any files on this domain
				that break the law, please contact me at
				<a href="mailto:abuse@pixeldrain.com">abuse@pixeldrain.com</a>,
				and I'll take care of it.
				<br/>Please share responsibly.
			</p>
			<h2>Funding</h2>
			<p>
				I'm currently paying for the Sia storage myself, since the site
				doesn't have a revenue model yet. I'd appreciate it if you could
				send some Siacoins my way:
				26117c19ca3975b315d663dcbbc19cf9c07274f441689d4392ed380b2337589ef1aacfbdc93f.
				This address goes directly to the wallet on this server which is
				used for uploading files to Sia :). I promise you it will be put
				to good use!
			</p>
			<h2>Features</h2>
			<p>
				Here's a list of features this version of Pixeldrain has.
			</p>
			<h3>New</h3>
			<ul>
				<li>Files are replicated to the Sia network</li>
				<li>New API and documentation (<a href="/api">Check it out!</a>)</li>
				<li>Overhauled design, no ugly white glow around the site body</li>
				<li>Directory management API</li>
				<li>Multiple complete website styles</li>
			</ul>
			<h3>Completed</h3>
			<ul>
				<li>File upload / Text upload</li>
				<li>List creation</li>
				<li>Registration / Login system</li>
			</ul>
			<h3>Upcoming</h3>
			<ul>
				<li>File and list management API</li>
				<li>File metadata, allowing applications to attach their own properties to a file (descriptions, icons, views, etc)</li>
				<li>Buttons to favorite and copy files to your account, so you can find them back later</li>
				<li>Pasting files from the clipboard</li>
				<li>Current viewer count on files/lists</li>
				<li>File revisions (update a file without changing the URL)</li>
				<li>Proper file manager with directories (upcoming)</li>
				<li>Plenty more!</li>
			</ul>
			<h3>Missing</h3>
			<p>
				Features which are in
				<a href="https://pixeldrain.com">https://pixeldrain.com</a>, but
				not in <a href="https://sia.pixeldrain.com">https://sia.pixeldrain.com</a>.
				These will be added soon enough.
			</p>
			<ul>
				<li>Zip explorer</li>
				<li>Some video formats (mime type detection is not complete)</li>
				<li>Bandwidth Tracker</li>
				<li>View counter</li>
				<li>Seasonal themes (thou shalt celebrate christmas!)</li>
			</ul>

			<h2>Style selector</h2>
			<input type="radio" id="style_default" name="style"><label for="style_default">Default Pixeldrain Style</label><br/>
			<input type="radio" id="style_solarized_dark" name="style"><label for="style_solarized_dark">Solarized Dark Style</label><br/>

			{{template "footer"}}
		</div>

		<script type="text/javascript">var API_URL = "/api";</script>
		<script src="/res/script/listmaker.js"></script>
		<script src="/res/script/compiled/home.js"></script>
		{{template "analytics"}}
	</body>
</html>
{{end}}
