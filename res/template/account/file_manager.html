{{define "file_manager"}}<!DOCTYPE html>
<html>
	<head>
		{{template "meta_tags" "File Manager"}}
		{{template "user_style" .}}
		<script type="text/javascript">var apiEndpoint = '{{.APIEndpoint}}';</script>
		<style>
			.file_manager {
				position: absolute;
				padding: 0px 8px 0px 8px;
				background-color: var(--body_color);
				box-shadow: #000000 8px 8px 50px 5px;
				left:100px;
				top:100px;
				right: 100px;
				min-width: 600px;
				max-width: 1000px;
			}
			.file_manager > .nav_bar {
				display: flex;
				flex-direction: row
			}
			.file_manager > .nav_bar :first-child   {margin-left:  5px;}
			.file_manager > .nav_bar :last-child    {margin-right: 5px;}
			.file_manager > .nav_bar > .breadcrumbs {flex: 1; margin: 1px 10px; min-width: 100px;}
			.file_manager > .status_bar             {text-align: left;}
			.file_manager > .directory_area {
				margin: 0 -8px 0 -8px;
				padding: 5px;
				max-height: 500px;
				overflow-x: hidden;
				overflow-y: scroll;
				text-align: left;
			}

			.file_button {
				height: 20px;
				box-shadow: none;
				background: none;
				margin: 2px;
			}
			.file_button > img {height: 100% !important;}
		</style>
	</head>

	<body>
		{{template "menu" .}}
		<br/>
		<div class="file_manager">
			<div class="nav_bar highlight_light border_top border_bottom">
				<button>⇐</button>
				<button>⇑</button>
				<button style="margin-right: 16px;">⇒</button>
				<button>🏠</button>
				<input class="breadcrumbs" type="text" value="/{{.Username}}/Documents"/>
				<button>↻</button>
				<button>🔎</button>
				<button style="margin-left: 16px;">_</button>
				<button>☐</button>
				<button class="button_red">✕</button>
			</div>
			<div class="directory_area">
				{{$files := .PixelAPI.UserFiles 0 1000}}
				{{range $files.Files}}
				<a class="file_button" href="/u/{{.ID}}" target="_blank">
					<img src="{{$.APIEndpoint}}/file/{{.ID}}/thumbnail" alt="{{.Name}}" />
					{{.Name}}
				</a>
				{{end}}
			</div>
			<div class="status_bar highlight_light border_top border_bottom">
				13 items (5 directories, 7 files). Total size: 1.23 GB
			</div>
		</div>


		{{template "analytics"}}
	</body>
</html>
{{end}}
